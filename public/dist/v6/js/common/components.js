define(function(require,exports){var dialog=Class.create({initialize:function(opts){var dopts={top:void 0,left:void 0,autoHide:void 0,title:"提示",frameTPL:new Template('<div class="normal"><div class="dialog-title"><a href="javascript:;" class="title left">#{title}</a><a href="javascript:;" class="close right">关闭</a></div><div class="dialog-content">#{content}</div><div class="dialog-footer" ></div></div>'),content:"",showClose:!0};return opts=Object.extend(dopts,opts),this._opts=opts,this._ready(),this._constructFrame(),this._end(),this},_ready:function(){var dialogs=$$(".dialog");dialogs.each(function(dia){dia.remove()}),this._dialogEl=new Element("div",{"class":"dialog"})},_constructFrame:function(){var opts=this._opts,dialogEl=this._dialogEl,frameHTML=opts.frameTPL.evaluate({title:opts.title,content:opts.content});dialogEl.update(frameHTML),document.body.appendChild(dialogEl),this.resetPos(),this._footerEl=dialogEl.select(".dialog-footer").pop();var close=this._closeEl=dialogEl.select(".close").pop();opts.showClose?close.observe("click",function(){dialogEl.remove()}):close.remove();var ah=opts.autoHide;ah&&"number"==typeof ah&&window.setTimeout(function(){dialogEl.remove()},1e3*ah)},_end:function(){var self=this;Event.observe(window,"resize",function(){self.resetPos.call(self)})},setWidth:function(){return this},setContent:function(){return this},addButton:function(value,callback){var button=new Element("a",{"class":"button",href:"javascript:;"}).update(value);if(Object.isFunction(callback)){var self=this;button.observe("click",function(){callback.call(self)})}var footer=this._footerEl;return footer.appendChild(button),this},resetPos:function(){var dialogEl=this._dialogEl,_diaW=dialogEl.getStyle("width"),_diaH=dialogEl.getStyle("height"),vp=document.viewport,left=this._opts.left||(vp.getWidth()-parseInt(_diaW))/2,top=this._opts.top||vp.getScrollOffsets().top+(vp.getHeight()-parseInt(_diaH))/2;return dialogEl.setStyle({top:top+"px",left:left+"px"}),this},close:function(){this._dialogEl.remove()}});exports.dialog=dialog;var tween={Quart:{easeOut:function(t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b}}};exports.tween=tween});